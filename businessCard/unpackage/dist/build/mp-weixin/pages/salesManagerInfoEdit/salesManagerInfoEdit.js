(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/salesManagerInfoEdit/salesManagerInfoEdit"],{"0530":function(o,e,n){},"97ad":function(o,e,n){"use strict";n.r(e);var i=n("cc38"),t=n("dd05");for(var u in t)"default"!==u&&function(o){n.d(e,o,(function(){return t[o]}))}(u);n("df3d");var a,s=n("f0c5"),r=Object(s["a"])(t["default"],i["b"],i["c"],!1,null,"567f4a3d",null,!1,i["a"],a);e["default"]=r.exports},c34d:function(o,e,n){"use strict";(function(o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){Promise.all([n.e("common/vendor"),n.e("components/uni-popup/uni-popup")]).then(function(){return resolve(n("17b6"))}.bind(null,n)).catch(n.oe)},t=function(){n.e("components/uni-popup/uni-popup-message").then(function(){return resolve(n("a2ea"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/uni-popup/uni-popup-dialog").then(function(){return resolve(n("a5da"))}.bind(null,n)).catch(n.oe)},a={data:function(){return{salesManagerInfo:{name:"王珞丹",avatar:"https://ossweb-img.qq.com/images/lol/web201310/skin/big84000.jpg",position:"销售经理",wxId:"wx_id1245343543",phone:"13970853937",company:"江西省家院里科技江西省家院里科技",brief:"",mail:"123123222@gmail.com"},imgList:[{id:0,type:"image",url:"https://ossweb-img.qq.com/images/lol/web201310/skin/big84000.jpg"},{id:1,type:"image",url:"https://ossweb-img.qq.com/images/lol/web201310/skin/big37006.jpg"},{id:2,type:"image",url:"https://ossweb-img.qq.com/images/lol/web201310/skin/big39000.jpg"},{id:3,type:"image",url:"https://ossweb-img.qq.com/images/lol/web201310/skin/big10001.jpg"},{id:4,type:"image",url:"https://ossweb-img.qq.com/images/lol/web201310/skin/big25011.jpg"},{id:5,type:"image",url:"https://ossweb-img.qq.com/images/lol/web201310/skin/big21016.jpg"},{id:6,type:"image",url:"https://ossweb-img.qq.com/images/lol/web201310/skin/big99008.jpg"}],inputV:"",voicePath:"",voiceTouced:0,recorderManager:"",innerAudioContext:"",audioObj:"",audioIsPlay:!1,allTime:0,audioCurrentTime:0,uploadImgList:[],action:"http://www.example.com/upload",recordPower:!1,poupShow:!1}},watch:{},computed:{showRecordText:function(){return 0===this.voiceTouced?"":this.voiceTouced?"正在录音...":"录音完成"}},onLoad:function(){var e=this,n=null;n=o.getRecorderManager(),n.onStop((function(o){console.log("recorder stop"+JSON.stringify(o)),e.voicePath=o.tempFilePath,console.log(o.tempFilePath)})),this.recorderManager=n,this.initAudioObj(),this.judgeLuYinPower()},mounted:function(){},methods:{imgUploadFinal:function(o,e,n,i){console.log(o),console.log(e),console.log(n),console.log(i)},areaChange:function(o){console.log(o),this.salesManagerInfo.brief=o.detail.value},recordVoiceStart:function(){this.recordPower?(o.vibrateShort({success:function(){console.log("success")}}),this.recorderManager.start({format:"mp3"}),console.log("start"),this.recorderManager.start(),this.voiceTouced=!0):this.poupOpen()},recordVoiceEnd:function(){this.recordPower?(console.log("end"),this.recorderManager.stop(),this.voiceTouced=!1,console.log("----------"),console.log(this.recorderManager)):this.poupOpen()},playVoice:function(){console.log("播放录音"),this.voicePath&&!this.audioIsPlay?(console.log("play voice true"),this.innerAudioContext.src=this.voicePath,this.innerAudioContext.play(),this.audioIsPlay=!0):(this.innerAudioContext.stop(),this.audioIsPlay=!1)},initAudioObj:function(){var e=this,n=o.createInnerAudioContext();this.audioObj=n,n.onError((function(){o.showToast({title:"音频播放错误",icon:"none"}),e.audioIsPlay=!1,n.destroy()}))},playAudio:function(){var e=this;if(this.audioIsPlay)return console.log("音乐播放中"),this.startTime=0,this.audioIsPlay=!1,this.audioObj.pause(),void this.audioObj.destroy();var n=o.createInnerAudioContext();n.src=this.voicePath,n.onCanplay((function(){e.audioCurrentTime=n.currentTime,n.play(),e.audioIsPlay=!0,n.onPlay((function(){e.audioCurrentTime=n.currentTime,e.audioObj=n,n.onTimeUpdate((function(){e.allTime=n.duration,e.audioCurrentTime=n.currentTime;var o=parseInt(e.allTime-e.audioCurrentTime);o||(n.destroy(),e.audioIsPlay=!1)}))}))}))},openSettingcallback:function(o){this.poupClose(),console.log(o)},judgeLuYinPower:function(){var e=this;o.authorize({scope:"scope.record",success:function(o){console.log("成功开启 录音权限"),e.recordPower=!0},fail:function(o){e.poupOpen(),e.recordPower=!1}})},poupOpen:function(){this.poupShow=!0},poupClose:function(){this.poupShow=!1}},components:{uniPopup:i,uniPopupMessage:t,uniPopupDialog:u}};e.default=a}).call(this,n("543d")["default"])},c530:function(o,e,n){"use strict";(function(o){n("92eb");i(n("66fd"));var e=i(n("97ad"));function i(o){return o&&o.__esModule?o:{default:o}}o(e.default)}).call(this,n("543d")["createPage"])},cc38:function(o,e,n){"use strict";n.d(e,"b",(function(){return t})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i}));var i={uUpload:function(){return Promise.all([n.e("common/vendor"),n.e("uview-ui/components/u-upload/u-upload")]).then(n.bind(null,"eab3"))},uPopup:function(){return n.e("uview-ui/components/u-popup/u-popup").then(n.bind(null,"90d7"))}},t=function(){var o=this,e=o.$createElement;o._self._c},u=[]},dd05:function(o,e,n){"use strict";n.r(e);var i=n("c34d"),t=n.n(i);for(var u in i)"default"!==u&&function(o){n.d(e,o,(function(){return i[o]}))}(u);e["default"]=t.a},df3d:function(o,e,n){"use strict";var i=n("0530"),t=n.n(i);t.a}},[["c530","common/runtime","common/vendor"]]]);